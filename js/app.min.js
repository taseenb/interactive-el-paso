var requirejs,require,define;!function(n){function t(n,t){return g.call(n,t)}function e(n,t){var e,r,i,o,u,s,a,c,l,f,p,h=t&&t.split("/"),d=v.map,m=d&&d["*"]||{};if(n&&"."===n.charAt(0))if(t){for(n=n.split("/"),u=n.length-1,v.nodeIdCompat&&b.test(n[u])&&(n[u]=n[u].replace(b,"")),n=h.slice(0,h.length-1).concat(n),l=0;l<n.length;l+=1)if(p=n[l],"."===p)n.splice(l,1),l-=1;else if(".."===p){if(1===l&&(".."===n[2]||".."===n[0]))break;l>0&&(n.splice(l-1,2),l-=2)}n=n.join("/")}else 0===n.indexOf("./")&&(n=n.substring(2));if((h||m)&&d){for(e=n.split("/"),l=e.length;l>0;l-=1){if(r=e.slice(0,l).join("/"),h)for(f=h.length;f>0;f-=1)if(i=d[h.slice(0,f).join("/")],i&&(i=i[r])){o=i,s=l;break}if(o)break;!a&&m&&m[r]&&(a=m[r],c=l)}!o&&a&&(o=a,s=c),o&&(e.splice(0,s,o),n=e.join("/"))}return n}function r(t,e){return function(){var r=y.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),l.apply(n,r.concat([t,e]))}}function i(n){return function(t){return e(t,n)}}function o(n){return function(t){h[n]=t}}function u(e){if(t(d,e)){var r=d[e];delete d[e],m[e]=!0,c.apply(n,r)}if(!t(h,e)&&!t(m,e))throw new Error("No "+e);return h[e]}function s(n){var t,e=n?n.indexOf("!"):-1;return e>-1&&(t=n.substring(0,e),n=n.substring(e+1,n.length)),[t,n]}function a(n){return function(){return v&&v.config&&v.config[n]||{}}}var c,l,f,p,h={},d={},v={},m={},g=Object.prototype.hasOwnProperty,y=[].slice,b=/\.js$/;f=function(n,t){var r,o=s(n),a=o[0];return n=o[1],a&&(a=e(a,t),r=u(a)),a?n=r&&r.normalize?r.normalize(n,i(t)):e(n,t):(n=e(n,t),o=s(n),a=o[0],n=o[1],a&&(r=u(a))),{f:a?a+"!"+n:n,n:n,pr:a,p:r}},p={require:function(n){return r(n)},exports:function(n){var t=h[n];return"undefined"!=typeof t?t:h[n]={}},module:function(n){return{id:n,uri:"",exports:h[n],config:a(n)}}},c=function(e,i,s,a){var c,l,v,g,y,b,w=[],x=typeof s;if(a=a||e,"undefined"===x||"function"===x){for(i=!i.length&&s.length?["require","exports","module"]:i,y=0;y<i.length;y+=1)if(g=f(i[y],a),l=g.f,"require"===l)w[y]=p.require(e);else if("exports"===l)w[y]=p.exports(e),b=!0;else if("module"===l)c=w[y]=p.module(e);else if(t(h,l)||t(d,l)||t(m,l))w[y]=u(l);else{if(!g.p)throw new Error(e+" missing "+l);g.p.load(g.n,r(a,!0),o(l),{}),w[y]=h[l]}v=s?s.apply(h[e],w):void 0,e&&(c&&c.exports!==n&&c.exports!==h[e]?h[e]=c.exports:v===n&&b||(h[e]=v))}else e&&(h[e]=s)},requirejs=require=l=function(t,e,r,i,o){if("string"==typeof t)return p[t]?p[t](e):u(f(t,e).f);if(!t.splice){if(v=t,v.deps&&l(v.deps,v.callback),!e)return;e.splice?(t=e,e=r,r=null):t=n}return e=e||function(){},"function"==typeof r&&(r=i,i=o),i?c(n,t,e,r):setTimeout(function(){c(n,t,e,r)},4),l},l.config=function(n){return l(n)},requirejs._defined=h,define=function(n,e,r){if("string"!=typeof n)throw new Error("See almond README: incorrect module build, no module name");e.splice||(r=e,e=[]),t(h,n)||t(d,n)||(d[n]=[n,e,r])},define.amd={jQuery:!0}}(),define("../node_modules/almond/almond",function(){}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("mediator-js",[],function(){return n.Mediator=t(),n.Mediator}):"undefined"!=typeof exports?exports.Mediator=t():n.Mediator=t()}(this,function(){"use strict";function n(){var n=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function t(e,r,i){return this instanceof t?(this.id=n(),this.fn=e,this.options=r,this.context=i,void(this.channel=null)):new t(e,r,i)}function e(n,t){return this instanceof e?(this.namespace=n||"",this._subscribers=[],this._channels={},this._parent=t,void(this.stopped=!1)):new e(n)}function r(){return this instanceof r?void(this._channels=new e("")):new r}return t.prototype.update=function(n){n&&(this.fn=n.fn||this.fn,this.context=n.context||this.context,this.options=n.options||this.options,this.channel&&this.options&&void 0!==this.options.priority&&this.channel.setPriority(this.id,this.options.priority))},e.prototype.addSubscriber=function(n,e,r){var i=new t(n,e,r);return e&&void 0!==e.priority?(e.priority=e.priority>>0,e.priority<0&&(e.priority=0),e.priority>=this._subscribers.length&&(e.priority=this._subscribers.length-1),this._subscribers.splice(e.priority,0,i)):this._subscribers.push(i),i.channel=this,i},e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype.getSubscriber=function(n){var t=0,e=this._subscribers.length;for(e;e>t;t++)if(this._subscribers[t].id===n||this._subscribers[t].fn===n)return this._subscribers[t]},e.prototype.setPriority=function(n,t){var e,r,i,o,u=0,s=0;for(s=0,o=this._subscribers.length;o>s&&(this._subscribers[s].id!==n&&this._subscribers[s].fn!==n);s++)u++;e=this._subscribers[u],r=this._subscribers.slice(0,u),i=this._subscribers.slice(u+1),this._subscribers=r.concat(i),this._subscribers.splice(t,0,e)},e.prototype.addChannel=function(n){this._channels[n]=new e((this.namespace?this.namespace+":":"")+n,this)},e.prototype.hasChannel=function(n){return this._channels.hasOwnProperty(n)},e.prototype.returnChannel=function(n){return this._channels[n]},e.prototype.removeSubscriber=function(n){var t=this._subscribers.length-1;if(!n)return void(this._subscribers=[]);for(t;t>=0;t--)(this._subscribers[t].fn===n||this._subscribers[t].id===n)&&(this._subscribers[t].channel=null,this._subscribers.splice(t,1))},e.prototype.publish=function(n){var t,e,r,i=0,o=this._subscribers.length,u=!1;for(o;o>i;i++)u=!1,t=this._subscribers[i],this.stopped||(e=this._subscribers.length,void 0!==t.options&&"function"==typeof t.options.predicate?t.options.predicate.apply(t.context,n)&&(u=!0):u=!0),u&&(t.options&&void 0!==t.options.calls&&(t.options.calls--,t.options.calls<1&&this.removeSubscriber(t.id)),t.fn.apply(t.context,n),r=this._subscribers.length,o=r,r===e-1&&i--);this._parent&&this._parent.publish(n),this.stopped=!1},r.prototype.getChannel=function(n,t){var e=this._channels,r=n.split(":"),i=0,o=r.length;if(""===n)return e;if(r.length>0)for(o;o>i;i++){if(!e.hasChannel(r[i])){if(t)break;e.addChannel(r[i])}e=e.returnChannel(r[i])}return e},r.prototype.subscribe=function(n,t,e,r){var i=this.getChannel(n||"",!1);return e=e||{},r=r||{},i.addSubscriber(t,e,r)},r.prototype.once=function(n,t,e,r){return e=e||{},e.calls=1,this.subscribe(n,t,e,r)},r.prototype.getSubscriber=function(n,t){var e=this.getChannel(t||"",!0);return e.namespace!==t?null:e.getSubscriber(n)},r.prototype.remove=function(n,t){var e=this.getChannel(n||"",!0);return e.namespace!==n?!1:void e.removeSubscriber(t)},r.prototype.publish=function(n){var t=this.getChannel(n||"",!0);if(t.namespace!==n)return null;var e=Array.prototype.slice.call(arguments,1);e.push(t),t.publish(e)},r.prototype.on=r.prototype.subscribe,r.prototype.bind=r.prototype.subscribe,r.prototype.emit=r.prototype.publish,r.prototype.trigger=r.prototype.publish,r.prototype.off=r.prototype.remove,r.Channel=e,r.Subscriber=t,r.version="0.9.8",r}),function(){function n(n){function t(t,e,r,i,o,u){for(;o>=0&&u>o;o+=n){var s=i?i[o]:o;r=e(r,t[s],s,t)}return r}return function(e,r,i,o){r=b(r,o,4);var u=!O(e)&&y.keys(e),s=(u||e).length,a=n>0?0:s-1;return arguments.length<3&&(i=e[u?u[a]:a],a+=n),t(e,r,i,u,a,s)}}function t(n){return function(t,e,r){e=w(e,r);for(var i=S(t),o=n>0?0:i-1;o>=0&&i>o;o+=n)if(e(t[o],o,t))return o;return-1}}function e(n,t,e){return function(r,i,o){var u=0,s=S(r);if("number"==typeof o)n>0?u=o>=0?o:Math.max(o+s,u):s=o>=0?Math.min(o+1,s):o+s+1;else if(e&&o&&s)return o=e(r,i),r[o]===i?o:-1;if(i!==i)return o=t(l.call(r,u,s),y.isNaN),o>=0?o+u:-1;for(o=n>0?u:s-1;o>=0&&s>o;o+=n)if(r[o]===i)return o;return-1}}function r(n,t){var e=I.length,r=n.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(n,o)&&!y.contains(t,o)&&t.push(o);e--;)o=I[e],o in n&&n[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}var i=this,o=i._,u=Array.prototype,s=Object.prototype,a=Function.prototype,c=u.push,l=u.slice,f=s.toString,p=s.hasOwnProperty,h=Array.isArray,d=Object.keys,v=a.bind,m=Object.create,g=function(){},y=function(n){return n instanceof y?n:this instanceof y?void(this._wrapped=n):new y(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,i){return n.call(t,e,r,i)};case 4:return function(e,r,i,o){return n.call(t,e,r,i,o)}}return function(){return n.apply(t,arguments)}},w=function(n,t,e){return null==n?y.identity:y.isFunction(n)?b(n,t,e):y.isObject(n)?y.matcher(n):y.property(n)};y.iteratee=function(n,t){return w(n,t,1/0)};var x=function(n,t){return function(e){var r=arguments.length;if(2>r||null==e)return e;for(var i=1;r>i;i++)for(var o=arguments[i],u=n(o),s=u.length,a=0;s>a;a++){var c=u[a];t&&void 0!==e[c]||(e[c]=o[c])}return e}},_=function(n){if(!y.isObject(n))return{};if(m)return m(n);g.prototype=n;var t=new g;return g.prototype=null,t},j=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,S=j("length"),O=function(n){var t=S(n);return"number"==typeof t&&t>=0&&A>=t};y.each=y.forEach=function(n,t,e){t=b(t,e);var r,i;if(O(n))for(r=0,i=n.length;i>r;r++)t(n[r],r,n);else{var o=y.keys(n);for(r=0,i=o.length;i>r;r++)t(n[o[r]],o[r],n)}return n},y.map=y.collect=function(n,t,e){t=w(t,e);for(var r=!O(n)&&y.keys(n),i=(r||n).length,o=Array(i),u=0;i>u;u++){var s=r?r[u]:u;o[u]=t(n[s],s,n)}return o},y.reduce=y.foldl=y.inject=n(1),y.reduceRight=y.foldr=n(-1),y.find=y.detect=function(n,t,e){var r;return r=O(n)?y.findIndex(n,t,e):y.findKey(n,t,e),void 0!==r&&-1!==r?n[r]:void 0},y.filter=y.select=function(n,t,e){var r=[];return t=w(t,e),y.each(n,function(n,e,i){t(n,e,i)&&r.push(n)}),r},y.reject=function(n,t,e){return y.filter(n,y.negate(w(t)),e)},y.every=y.all=function(n,t,e){t=w(t,e);for(var r=!O(n)&&y.keys(n),i=(r||n).length,o=0;i>o;o++){var u=r?r[o]:o;if(!t(n[u],u,n))return!1}return!0},y.some=y.any=function(n,t,e){t=w(t,e);for(var r=!O(n)&&y.keys(n),i=(r||n).length,o=0;i>o;o++){var u=r?r[o]:o;if(t(n[u],u,n))return!0}return!1},y.contains=y.includes=y.include=function(n,t,e,r){return O(n)||(n=y.values(n)),("number"!=typeof e||r)&&(e=0),y.indexOf(n,t,e)>=0},y.invoke=function(n,t){var e=l.call(arguments,2),r=y.isFunction(t);return y.map(n,function(n){var i=r?t:n[t];return null==i?i:i.apply(n,e)})},y.pluck=function(n,t){return y.map(n,y.property(t))},y.where=function(n,t){return y.filter(n,y.matcher(t))},y.findWhere=function(n,t){return y.find(n,y.matcher(t))},y.max=function(n,t,e){var r,i,o=-1/0,u=-1/0;if(null==t&&null!=n){n=O(n)?n:y.values(n);for(var s=0,a=n.length;a>s;s++)r=n[s],r>o&&(o=r)}else t=w(t,e),y.each(n,function(n,e,r){i=t(n,e,r),(i>u||i===-1/0&&o===-1/0)&&(o=n,u=i)});return o},y.min=function(n,t,e){var r,i,o=1/0,u=1/0;if(null==t&&null!=n){n=O(n)?n:y.values(n);for(var s=0,a=n.length;a>s;s++)r=n[s],o>r&&(o=r)}else t=w(t,e),y.each(n,function(n,e,r){i=t(n,e,r),(u>i||1/0===i&&1/0===o)&&(o=n,u=i)});return o},y.shuffle=function(n){for(var t,e=O(n)?n:y.values(n),r=e.length,i=Array(r),o=0;r>o;o++)t=y.random(0,o),t!==o&&(i[o]=i[t]),i[t]=e[o];return i},y.sample=function(n,t,e){return null==t||e?(O(n)||(n=y.values(n)),n[y.random(n.length-1)]):y.shuffle(n).slice(0,Math.max(0,t))},y.sortBy=function(n,t,e){return t=w(t,e),y.pluck(y.map(n,function(n,e,r){return{value:n,index:e,criteria:t(n,e,r)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return n.index-t.index}),"value")};var k=function(n){return function(t,e,r){var i={};return e=w(e,r),y.each(t,function(r,o){var u=e(r,o,t);n(i,r,u)}),i}};y.groupBy=k(function(n,t,e){y.has(n,e)?n[e].push(t):n[e]=[t]}),y.indexBy=k(function(n,t,e){n[e]=t}),y.countBy=k(function(n,t,e){y.has(n,e)?n[e]++:n[e]=1}),y.toArray=function(n){return n?y.isArray(n)?l.call(n):O(n)?y.map(n,y.identity):y.values(n):[]},y.size=function(n){return null==n?0:O(n)?n.length:y.keys(n).length},y.partition=function(n,t,e){t=w(t,e);var r=[],i=[];return y.each(n,function(n,e,o){(t(n,e,o)?r:i).push(n)}),[r,i]},y.first=y.head=y.take=function(n,t,e){return null==n?void 0:null==t||e?n[0]:y.initial(n,n.length-t)},y.initial=function(n,t,e){return l.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},y.last=function(n,t,e){return null==n?void 0:null==t||e?n[n.length-1]:y.rest(n,Math.max(0,n.length-t))},y.rest=y.tail=y.drop=function(n,t,e){return l.call(n,null==t||e?1:t)},y.compact=function(n){return y.filter(n,y.identity)};var M=function(n,t,e,r){for(var i=[],o=0,u=r||0,s=S(n);s>u;u++){var a=n[u];if(O(a)&&(y.isArray(a)||y.isArguments(a))){t||(a=M(a,t,e));var c=0,l=a.length;for(i.length+=l;l>c;)i[o++]=a[c++]}else e||(i[o++]=a)}return i};y.flatten=function(n,t){return M(n,t,!1)},y.without=function(n){return y.difference(n,l.call(arguments,1))},y.uniq=y.unique=function(n,t,e,r){y.isBoolean(t)||(r=e,e=t,t=!1),null!=e&&(e=w(e,r));for(var i=[],o=[],u=0,s=S(n);s>u;u++){var a=n[u],c=e?e(a,u,n):a;t?(u&&o===c||i.push(a),o=c):e?y.contains(o,c)||(o.push(c),i.push(a)):y.contains(i,a)||i.push(a)}return i},y.union=function(){return y.uniq(M(arguments,!0,!0))},y.intersection=function(n){for(var t=[],e=arguments.length,r=0,i=S(n);i>r;r++){var o=n[r];if(!y.contains(t,o)){for(var u=1;e>u&&y.contains(arguments[u],o);u++);u===e&&t.push(o)}}return t},y.difference=function(n){var t=M(arguments,!0,!0,1);return y.filter(n,function(n){return!y.contains(t,n)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(n){for(var t=n&&y.max(n,S).length||0,e=Array(t),r=0;t>r;r++)e[r]=y.pluck(n,r);return e},y.object=function(n,t){for(var e={},r=0,i=S(n);i>r;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(n,t,e,r){e=w(e,r,1);for(var i=e(t),o=0,u=S(n);u>o;){var s=Math.floor((o+u)/2);e(n[s])<i?o=s+1:u=s}return o},y.indexOf=e(1,y.findIndex,y.sortedIndex),y.lastIndexOf=e(-1,y.findLastIndex),y.range=function(n,t,e){null==t&&(t=n||0,n=0),e=e||1;for(var r=Math.max(Math.ceil((t-n)/e),0),i=Array(r),o=0;r>o;o++,n+=e)i[o]=n;return i};var E=function(n,t,e,r,i){if(!(r instanceof t))return n.apply(e,i);var o=_(n.prototype),u=n.apply(o,i);return y.isObject(u)?u:o};y.bind=function(n,t){if(v&&n.bind===v)return v.apply(n,l.call(arguments,1));if(!y.isFunction(n))throw new TypeError("Bind must be called on a function");var e=l.call(arguments,2),r=function(){return E(n,r,t,this,e.concat(l.call(arguments)))};return r},y.partial=function(n){var t=l.call(arguments,1),e=function(){for(var r=0,i=t.length,o=Array(i),u=0;i>u;u++)o[u]=t[u]===y?arguments[r++]:t[u];for(;r<arguments.length;)o.push(arguments[r++]);return E(n,e,this,this,o)};return e},y.bindAll=function(n){var t,e,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)e=arguments[t],n[e]=y.bind(n[e],n);return n},y.memoize=function(n,t){var e=function(r){var i=e.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=n.apply(this,arguments)),i[o]};return e.cache={},e},y.delay=function(n,t){var e=l.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(n,t,e){var r,i,o,u=null,s=0;e||(e={});var a=function(){s=e.leading===!1?0:y.now(),u=null,o=n.apply(r,i),u||(r=i=null)};return function(){var c=y.now();s||e.leading!==!1||(s=c);var l=t-(c-s);return r=this,i=arguments,0>=l||l>t?(u&&(clearTimeout(u),u=null),s=c,o=n.apply(r,i),u||(r=i=null)):u||e.trailing===!1||(u=setTimeout(a,l)),o}},y.debounce=function(n,t,e){var r,i,o,u,s,a=function(){var c=y.now()-u;t>c&&c>=0?r=setTimeout(a,t-c):(r=null,e||(s=n.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,u=y.now();var c=e&&!r;return r||(r=setTimeout(a,t)),c&&(s=n.apply(o,i),o=i=null),s}},y.wrap=function(n,t){return y.partial(t,n)},y.negate=function(n){return function(){return!n.apply(this,arguments)}},y.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},y.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},y.before=function(n,t){var e;return function(){return--n>0&&(e=t.apply(this,arguments)),1>=n&&(t=null),e}},y.once=y.partial(y.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(n){if(!y.isObject(n))return[];if(d)return d(n);var t=[];for(var e in n)y.has(n,e)&&t.push(e);return C&&r(n,t),t},y.allKeys=function(n){if(!y.isObject(n))return[];var t=[];for(var e in n)t.push(e);return C&&r(n,t),t},y.values=function(n){for(var t=y.keys(n),e=t.length,r=Array(e),i=0;e>i;i++)r[i]=n[t[i]];return r},y.mapObject=function(n,t,e){t=w(t,e);for(var r,i=y.keys(n),o=i.length,u={},s=0;o>s;s++)r=i[s],u[r]=t(n[r],r,n);return u},y.pairs=function(n){for(var t=y.keys(n),e=t.length,r=Array(e),i=0;e>i;i++)r[i]=[t[i],n[t[i]]];return r},y.invert=function(n){for(var t={},e=y.keys(n),r=0,i=e.length;i>r;r++)t[n[e[r]]]=e[r];return t},y.functions=y.methods=function(n){var t=[];for(var e in n)y.isFunction(n[e])&&t.push(e);return t.sort()},y.extend=x(y.allKeys),y.extendOwn=y.assign=x(y.keys),y.findKey=function(n,t,e){t=w(t,e);for(var r,i=y.keys(n),o=0,u=i.length;u>o;o++)if(r=i[o],t(n[r],r,n))return r},y.pick=function(n,t,e){var r,i,o={},u=n;if(null==u)return o;y.isFunction(t)?(i=y.allKeys(u),r=b(t,e)):(i=M(arguments,!1,!1,1),r=function(n,t,e){return t in e},u=Object(u));for(var s=0,a=i.length;a>s;s++){var c=i[s],l=u[c];r(l,c,u)&&(o[c]=l)}return o},y.omit=function(n,t,e){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(M(arguments,!1,!1,1),String);t=function(n,t){return!y.contains(r,t)}}return y.pick(n,t,e)},y.defaults=x(y.allKeys,!0),y.create=function(n,t){var e=_(n);return t&&y.extendOwn(e,t),e},y.clone=function(n){return y.isObject(n)?y.isArray(n)?n.slice():y.extend({},n):n},y.tap=function(n,t){return t(n),n},y.isMatch=function(n,t){var e=y.keys(t),r=e.length;if(null==n)return!r;for(var i=Object(n),o=0;r>o;o++){var u=e[o];if(t[u]!==i[u]||!(u in i))return!1}return!0};var F=function(n,t,e,r){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof y&&(n=n._wrapped),t instanceof y&&(t=t._wrapped);var i=f.call(n);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof n||"object"!=typeof t)return!1;var u=n.constructor,s=t.constructor;if(u!==s&&!(y.isFunction(u)&&u instanceof u&&y.isFunction(s)&&s instanceof s)&&"constructor"in n&&"constructor"in t)return!1}e=e||[],r=r||[];for(var a=e.length;a--;)if(e[a]===n)return r[a]===t;if(e.push(n),r.push(t),o){if(a=n.length,a!==t.length)return!1;for(;a--;)if(!F(n[a],t[a],e,r))return!1}else{var c,l=y.keys(n);if(a=l.length,y.keys(t).length!==a)return!1;for(;a--;)if(c=l[a],!y.has(t,c)||!F(n[c],t[c],e,r))return!1}return e.pop(),r.pop(),!0};y.isEqual=function(n,t){return F(n,t)},y.isEmpty=function(n){return null==n?!0:O(n)&&(y.isArray(n)||y.isString(n)||y.isArguments(n))?0===n.length:0===y.keys(n).length},y.isElement=function(n){return!(!n||1!==n.nodeType)},y.isArray=h||function(n){return"[object Array]"===f.call(n)},y.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){y["is"+n]=function(t){return f.call(t)==="[object "+n+"]"}}),y.isArguments(arguments)||(y.isArguments=function(n){return y.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(n){return"function"==typeof n||!1}),y.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},y.isNaN=function(n){return y.isNumber(n)&&n!==+n},y.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===f.call(n)},y.isNull=function(n){return null===n},y.isUndefined=function(n){return void 0===n},y.has=function(n,t){return null!=n&&p.call(n,t)},y.noConflict=function(){return i._=o,this},y.identity=function(n){return n},y.constant=function(n){return function(){return n}},y.noop=function(){},y.property=j,y.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},y.matcher=y.matches=function(n){return n=y.extendOwn({},n),function(t){return y.isMatch(t,n)}},y.times=function(n,t,e){var r=Array(Math.max(0,n));t=b(t,e,1);for(var i=0;n>i;i++)r[i]=t(i);return r},y.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},y.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=y.invert(z),T=function(n){var t=function(t){return n[t]},e="(?:"+y.keys(n).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,t):n}};y.escape=T(z),y.unescape=T(q),y.result=function(n,t,e){var r=null==n?void 0:n[t];return void 0===r&&(r=e),y.isFunction(r)?r.call(n):r};var R=0;y.uniqueId=function(n){var t=++R+"";return n?n+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,P=function(n){return"\\"+L[n]};y.template=function(n,t,e){!t&&e&&(t=e),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||N).source,(t.interpolate||N).source,(t.evaluate||N).source].join("|")+"|$","g"),i=0,o="__p+='";n.replace(r,function(t,e,r,u,s){return o+=n.slice(i,s).replace(X,P),i=s+t.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(o+="';\n"+u+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var u=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var a=function(n){return u.call(this,n,y)},c=t.variable||"obj";return a.source="function("+c+"){\n"+o+"}",a},y.chain=function(n){var t=y(n);return t._chain=!0,t};var $=function(n,t){return n._chain?y(t).chain():t};y.mixin=function(n){y.each(y.functions(n),function(t){var e=y[t]=n[t];y.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),$(this,e.apply(y,n))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];y.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],$(this,e)}}),y.each(["concat","join","slice"],function(n){var t=u[n];y.prototype[n]=function(){return $(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),define("text",["module"],function(n){"use strict";var t,e,r,i,o,u=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],s=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,l=c&&location.protocol&&location.protocol.replace(/\:/,""),f=c&&location.hostname,p=c&&(location.port||void 0),h={},d=n.config&&n.config()||{};return t={version:"2.0.12",strip:function(n){if(n){n=n.replace(s,"");var t=n.match(a);t&&(n=t[1])}else n="";return n},jsEscape:function(n){return n.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var n,t,e;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){e=u[t];try{n=new ActiveXObject(e)}catch(r){}if(n){u=[e];break}}return n},parseName:function(n){var t,e,r,i=!1,o=n.indexOf("."),u=0===n.indexOf("./")||0===n.indexOf("../");return-1!==o&&(!u||o>1)?(t=n.substring(0,o),e=n.substring(o+1,n.length)):t=n,r=e||t,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),e?e=r:t=r),{moduleName:t,ext:e,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(n,e,r,i){var o,u,s,a=t.xdRegExp.exec(n);return a?(o=a[2],u=a[3],u=u.split(":"),s=u[1],u=u[0],!(o&&o!==e||u&&u.toLowerCase()!==r.toLowerCase()||(s||u)&&s!==i)):!0},finishLoad:function(n,e,r,i){r=e?t.strip(r):r,d.isBuild&&(h[n]=r),i(r)},load:function(n,e,r,i){if(i&&i.isBuild&&!i.inlineText)return void r();d.isBuild=i&&i.isBuild;var o=t.parseName(n),u=o.moduleName+(o.ext?"."+o.ext:""),s=e.toUrl(u),a=d.useXhr||t.useXhr;return 0===s.indexOf("empty:")?void r():void(!c||a(s,l,f,p)?t.get(s,function(e){t.finishLoad(n,o.strip,e,r)},function(n){r.error&&r.error(n)}):e([u],function(n){t.finishLoad(o.moduleName+"."+o.ext,o.strip,n,r)}))},write:function(n,e,r){if(h.hasOwnProperty(e)){var i=t.jsEscape(h[e]);r.asModule(n+"!"+e,"define(function () { return '"+i+"';});\n")}},writeFile:function(n,e,r,i,o){var u=t.parseName(e),s=u.ext?"."+u.ext:"",a=u.moduleName+s,c=r.toUrl(u.moduleName+s)+".js";t.load(a,r,function(){var e=function(n){return i(c,n)};e.asModule=function(n,t){return i.asModule(n,c,t)},t.write(n,a,e,o)},o)}},"node"===d.env||!d.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(e=require.nodeRequire("fs"),t.get=function(n,t,r){try{var i=e.readFileSync(n,"utf8");0===i.indexOf("ï»¿")&&(i=i.substring(1)),t(i)}catch(o){r&&r(o)}}):"xhr"===d.env||!d.env&&t.createXhr()?t.get=function(n,e,r,i){var o,u=t.createXhr();if(u.open("GET",n,!0),i)for(o in i)i.hasOwnProperty(o)&&u.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(u,n),u.onreadystatechange=function(){var t,i;4===u.readyState&&(t=u.status||0,t>399&&600>t?(i=new Error(n+" HTTP status: "+t),i.xhr=u,r&&r(i)):e(u.responseText),d.onXhrComplete&&d.onXhrComplete(u,n))},u.send(null)}:"rhino"===d.env||!d.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(n,t){var e,r,i="utf-8",o=new java.io.File(n),u=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),a="";try{for(e=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&e.append(r);null!==(r=s.readLine());)e.append(u),e.append(r);a=String(e.toString())}finally{s.close()}t(a)}:("xpconnect"===d.env||!d.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in r,t.get=function(n,t){var e,u,s,a={};o&&(n=n.replace(/\//g,"\\")),s=new FileUtils.File(n);try{e=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),e.init(s,1,0,!1),u=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),u.init(e,"utf-8",e.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),u.readString(e.available(),a),u.close(),e.close(),t(a.value)}catch(c){throw new Error((s&&s.path||"")+": "+c)}}),t}),define("text!tpl/header.html",[],function(){return'<div id="header">\n\n    <h1>\n        <a href="#"><%= title %></a>\n    </h1>\n\n    <hr>\n\n</div>\n\n'}),define("text!tpl/content.html",[],function(){return'<div id="content">\n\n    Content. Here.\n\n    <ul>\n        <li><a href="#item/1">Item 1</a></li>\n        <li><a href="#item/2">Item 2</a></li>\n        <li><a href="#item/3">Item 3</a></li>\n        <li><a href="#item/4">Item 4</a></li>\n        <li><a href="#item/5">Item 5</a></li>\n    </ul>\n\n</div>'}),define("text!tpl/footer.html",[],function(){return'<div id="footer">\n\n    <hr>\n    Footer.\n\n</div>\n'}),define("views/mainView.js",["require","underscore","text!tpl/header.html","text!tpl/content.html","text!tpl/footer.html"],function(n){"use strict";var t=n("underscore"),e=n("text!tpl/header.html"),r=n("text!tpl/content.html"),i=n("text!tpl/footer.html"),o=function(){this.$el=$(this.el),this.initialize()};return o.prototype={el:"#main",initialize:function(){App.mediator.subscribe("scroll",this.onScroll.bind(this)),App.mediator.subscribe("resize",this.onResize.bind(this))},render:function(){var n=t.template(e)({title:"My App"}),o=t.template(r)(),u=t.template(i)(),s=n+o+u;this.$el.html(s)},onScroll:function(){},onResize:function(){}},o}),define("resize",["require","underscore"],function(n){var t=n("underscore"),e=function(){this.initialize()};return e.prototype={initialize:function(){this.$win=$(window),this.callback=t.debounce(this.onResize,250).bind(this),this.$win.on("resize",this.callback)},onResize:function(){App.mediator.publish("resize",{width:this.$win.width(),height:this.$win.height()})}},new e}),define("scroll",["require","underscore"],function(n){var t=n("underscore"),e=function(){this.initialize()};return e.prototype={initialize:function(){this.$body=$("body"),this.callback=t.throttle(this.onScroll,100).bind(this),$(window).on("scroll",this.callback)},onScroll:function(){App.mediator.publish("scroll",{scrollLeft:this.$body.scrollLeft(),scrollTop:this.$body.scrollTop()})}},new e}),define("app",["require","mediator-js","views/mainView.js","resize","scroll"],function(n){"use strict";var t=n("mediator-js"),e=n("views/mainView.js");window.App=window.App||{},App.mediator=new t,n("resize"),n("scroll");var r=new e;r.render()}),require(["app"]);
//# sourceMappingURL=app.min.js
//# sourceMappingURL=app.min.js.map